CREATE TABLE MUNICIPIO (
MUN_ID VARCHAR(50) not null,
MUN_NOMBRE VARCHAR(50) not null,
CONSTRAINT PK_MUNICIPIO
PRIMARY KEY (MUN_ID)
);

CREATE TABLE ESTADO (
EST_ID VARCHAR(50) not null,
EST_NOMBRE VARCHAR(50) not null,
CONSTRAINT PK_ESTADO
PRIMARY KEY (EST_ID)
);

CREATE TABLE DIRECCION(
DIRE_ID VARCHAR(50) not null,
DIRE_CP VARCHAR(50) not null,
DIRE_CALLE VARCHAR(50) not null,
DIRE_NOEXTERIOR VARCHAR(50) not null,
DIRE_NOINTERIOR VARCHAR(50) not null,
DIRE_MUN_ID VARCHAR(50) not null,
DIRE_EST_ID VARCHAR(50) not null,
CONSTRAINT PK_DIRECCION PRIMARY KEY (DIRE_ID),
CONSTRAINT FK_MUNICIPIO FOREIGN KEY (DIRE_MUN_ID) REFERENCES MUNICIPIO(MUN_ID),
CONSTRAINT FK_ESTADO FOREIGN KEY (DIRE_EST_ID) REFERENCES ESTADO(EST_ID)
);

CREATE TABLE CLIENTE(
CLIE_ID VARCHAR(50) not null,
CLIE_NOMBRE VARCHAR(50) not null,
CLIE_APELLIDOPATE VARCHAR(50) not null,
CLIE_CORREO VARCHAR(50) not null,
CLIE_APELLIDOMATE VARCHAR(50) not null,
CLIE_REGISTRO DATE,
CLIE_DIRE_ID VARCHAR(50) not null,
CONSTRAINT PK_CLIENTE PRIMARY KEY (CLIE_ID),
CONSTRAINT FK_DIRECCION FOREIGN KEY (CLIE_DIRE_ID) REFERENCES DIRECCION(DIRE_ID)
);

CREATE TABLE TIENDA(
TIE_ID VARCHAR(50) not null,
TIE_NOMBRE VARCHAR(50) not null,
TIE_PAGINA VARCHAR(50) not null,
TIE_CORREO VARCHAR(50) not null,
TIE_LADA NUMBER(20),
TIE_TELEFONO NUMBER(20),
TIE_DIRE_ID VARCHAR(50) not null,
CONSTRAINT PK_TIENDA PRIMARY KEY (TIE_ID),
CONSTRAINT FK_DIRECCIO FOREIGN KEY (TIE_DIRE_ID) REFERENCES DIRECCION (DIRE_ID)
);

CREATE TABLE USUARIO(
USU_ID VARCHAR(50) not null,
USU_NOM VARCHAR(50) not null,
USU_CONTRASENA VARCHAR(50) not null,
CONSTRAINT PK_USUARIO PRIMARY KEY (USU_ID)
);

CREATE TABLE EMPLEADO(
EMP_ID VARCHAR(50) not null,
EMP_NOMBRE VARCHAR(50) not null,
EMP_APELLIDOPAT VARCHAR(50) not null,
EMP_APELLIDOMAT VARCHAR(50) not null,
EMP_RESGISTRO DATE,
EMP_CORREO VARCHAR(50) not null,
EMP_DIRE_ID VARCHAR(50) not null,
EMP_USU_ID VARCHAR(50) not null,
CONSTRAINT PK_EMPLEADO PRIMARY KEY (EMP_ID),
CONSTRAINT FK_EMP_DIRE FOREIGN KEY (EMP_DIRE_ID) REFERENCES DIRECCION(DIRE_ID),
CONSTRAINT FK_EMP_USU FOREIGN KEY (EMP_USU_ID) REFERENCES USUARIO(USU_ID)
);

CREATE TABLE METODO_PAGO(
MET_ID VARCHAR(50) not null,
MET_METODO VARCHAR(50) not null,
CONSTRAINT PK_METODO_PAGO PRIMARY KEY (MET_ID)
);

CREATE TABLE CUIDADO_PERSONAL(
CUI_ID VARCHAR(50) not null,
CUI_NAME VARCHAR(50) not null,
CUI_PRECIO FLOAT,
CUI_EXISTENCIA NUMBER(20),
CUI_DESCRIPCION VARCHAR(200) not null,
CONSTRAINT PK_CUIDADO_PERSONAL PRIMARY KEY (CUI_ID)
);

CREATE TABLE UTENCILIOS_MEDICOS(
UTE_ID VARCHAR(50) not null,
UTE_NAME VARCHAR(50) not null,
UTE_PRECIO FLOAT,
UTE_EXISTENCIA NUMBER(20),
UTE_DESCR VARCHAR(300) not null,
CONSTRAINT PK_UTENCILIOS_MEDICOS PRIMARY KEY (UTE_ID)
);

CREATE TABLE MEDICAMENTOS(
MED_ID VARCHAR(50) not null,
MED_NAME VARCHAR(50) not null,
MED_CADUCIDAD VARCHAR(50) not null,
MED_PRECIO FLOAT,
MED_TABLETAS NUMBER(20),
MED_MG FLOAT,
MED_EXISTENCIA NUMBER(20),
MED_DESC VARCHAR(400) not null,
CONSTRAINT PK_MEDICAMENTOS PRIMARY KEY (MED_ID)
);

CREATE TABLE COMPRA(
COMP_ID VARCHAR(50) not null,
COMP_FECHA DATE,
COMP_EMP_ID VARCHAR(50) not null,
COMP_MET_ID VARCHAR(50) not null,
COMP_TIE_ID VARCHAR(50) not null,
CONSTRAINT PK_COMPRA PRIMARY KEY (COMP_ID),
CONSTRAINT FK_COMP_EMP FOREIGN KEY (COMP_EMP_ID) REFERENCES EMPLEADO(EMP_ID),
CONSTRAINT FK_COMP_MET FOREIGN KEY (COMP_MET_ID) REFERENCES METODO_PAGO(MET_ID),
CONSTRAINT FK_COMP_TIE FOREIGN KEY (COMP_TIE_ID) REFERENCES TIENDA(TIE_ID)
);

CREATE TABLE VENTA(
VEN_ID VARCHAR(50) not null,
VEN_FECHA DATE,
VEN_EMP_ID VARCHAR(50) not null,
VEN_MET_ID VARCHAR(50) not null,
VEN_TIE_ID VARCHAR(50) not null,
CONSTRAINT PK_VENTA PRIMARY KEY (VEN_ID),
CONSTRAINT FK_VEN_EMP FOREIGN KEY (VEN_EMP_ID) REFERENCES EMPLEADO(EMP_ID),
CONSTRAINT FK_VEN_MET FOREIGN KEY (VEN_MET_ID) REFERENCES METODO_PAGO(MET_ID),
CONSTRAINT FK_VEN_TIE FOREIGN KEY (VEN_TIE_ID) REFERENCES TIENDA(TIE_ID)
);

CREATE TABLE DETALLE_VENTA_ME(
VENM_DETA_ID VARCHAR(50) not null,
VENM_CANTIDAD NUMBER(20) ,
VENM_MED_ID VARCHAR(50) not null,
CONSTRAINT PK_COMPUNO PRIMARY KEY (VENM_DETA_ID,VENM_MED_ID),
CONSTRAINT FK_VENM_DETA FOREIGN KEY (VENM_DETA_ID) REFERENCES VENTA (VEN_ID),
CONSTRAINT FK_VENM_MED FOREIGN KEY (VENM_MED_ID) REFERENCES MEDICAMENTOS(MED_ID)
);

CREATE TABLE DETALLE_VENTA_UTE(
VENT_ID VARCHAR(50) not null,
VENT_CANTIDAD NUMBER(20),
VENT_UTE_ID VARCHAR(50) not null,
CONSTRAINT PK_COMPDOS PRIMARY KEY (VENT_ID,VENT_UTE_ID),
CONSTRAINT FK_VENT FOREIGN KEY (VENT_ID) REFERENCES VENTA(VEN_ID),
CONSTRAINT FK_VENT_UTE FOREIGN KEY (VENT_UTE_ID) REFERENCES UTENCILIOS_MEDICOS(UTE_ID)
);

CREATE TABLE DETALLE_VENTA_CUI(
VENC_ID VARCHAR(50) not null,
VENC_CANTIDAD NUMBER(20),
VENC_CUI_ID VARCHAR(50) not null,
CONSTRAINT PK_COMPTRE PRIMARY KEY (VENC_ID,VENC_CUI_ID),
CONSTRAINT FK_VENC FOREIGN KEY (VENC_ID) REFERENCES VENTA(VEN_ID),
CONSTRAINT FK_VENC_CUI FOREIGN KEY (VENC_CUI_ID) REFERENCES CUIDADO_PERSONAL(CUI_ID)
);

CREATE TABLE DETALLE_COMPRA_CUI(
COMC_ID VARCHAR(50) not null,
COMC_CANTIDAD NUMBER(20),
COMC_CUI_ID VARCHAR(50) not null,
CONSTRAINT PK_COMPCUA PRIMARY KEY (COMC_ID,COMC_CUI_ID),
CONSTRAINT FK_COMC FOREIGN KEY (COMC_ID) REFERENCES COMPRA(COMP_ID),
CONSTRAINT FK_COMC_CUI FOREIGN KEY (COMC_CUI_ID) REFERENCES CUIDADO_PERSONAL(CUI_ID)
);

CREATE TABLE DETALLE_COMPRA_ME(
COM_ID VARCHAR(50) not null,
COM_CANTIDAD NUMBER(20),
COM_MED_ID VARCHAR(50) not null,
CONSTRAINT PK_COMPCIN PRIMARY KEY (COM_ID,COM_MED_ID),
CONSTRAINT FK_COM FOREIGN KEY (COM_ID) REFERENCES COMPRA(COMP_ID),
CONSTRAINT FK_COM_MED FOREIGN KEY (COM_MED_ID) REFERENCES MEDICAMENTOS(MED_ID)
);

CREATE TABLE DETALLE_COMPRA_UTE(
COMT_ID VARCHAR(50) not null,
COMT_CANTIDAD NUMBER(20) ,
COMT_UTE_ID VARCHAR(50) not null,
CONSTRAINT PK_COMPSEI PRIMARY KEY (COMT_ID,COMT_UTE_ID),
CONSTRAINT FK_COMT FOREIGN KEY (COMT_ID) REFERENCES COMPRA(COMP_ID),
CONSTRAINT FK_COMT_UTE FOREIGN KEY (COMT_UTE_ID) REFERENCES UTENCILIOS_MEDICOS(UTE_ID)
);
